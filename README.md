# Interactive plotting

---

Hi!

**Please check the dowloads section first**

Everything I present will be referenced from this readme. I host all files and documents on github using 'github pages' (https://mluerig.github.io/RR/). 

I hope that by the time of my talk this repository will be in a shape that allows you to simply fork it and run the code along with my presentation.

---

<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
**Table of Contents**  *generated with [DocToc](https://github.com/thlorenz/doctoc)*

- [0) Downloads](#0-downloads)
- [1) Overview](#1-overview)
- [2) R: plotly](#2-r-plotly)
- [3) R: shiny](#3-r-shiny)
- [4) Python: bokeh](#4-python-bokeh)
- [5) (R:) ggobi](#5-r-ggobi)

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

---



### 0) Downloads

**R**

I assume you have R and Rstudio installed.
```
# required
install.packages(c("rmarkdown","knitr" ,"ggplot2","shiny","plotly", "rggobi"))
# additional
install.packages(c("cowplot", "rgl"))

```

**Python (3.6)** 

If you have yet to intall python I recommend https://conda.io/miniconda.html. To install packages go to your terminal and use `conda install`:

```
conda install os pandas bokeh
```
I will use the `spyder` IDE for python, but Rstudio can also interpret .py scripts.   
```
conda install spyder
spyder
```

**Ready?**

![](https://media.giphy.com/media/XreQmk7ETCak0/giphy.gif)

**Good!**



### 1) Overview

There is an increasing amount of out-of-the-box solutions that require only very little prior knowledge to programming. In this section we quickly skim through a bunch of different tools - **all** are opensource! 

Many interactive plots are generated by sending data through some existing plotting environment (e.g. `ggplot` in R or `matplotlib` in Python) and presenting the results in html. The result can be static (as in non-interactive Rmarkdown doctuments) or dynamic with interactive elements. Reactive code, elements that respond to your input, change the presented output. For details refer to the `shiny` tutorial, it nicely lays out some generalities of interactive plotting: http://rstudio.github.io/shiny/tutorial/#reactivity

![](http://rstudio.github.io/shiny/tutorial/reactivity_diagrams/roles.png)

The product can be a locally generated html document (can be embedded online, e.g.: http://luerig.net/rr_example1/). Some companies like shiny or plotly offer host services that allow to publish "apps" (interactive figures) online: (e.g. https://luerig.shinyapps.io/Sample_001a).

Some examples with varying degrees of responsiveness:

* https://www.r-graph-gallery.com/interactive-charts/
* https://www.r-graph-gallery.com/get-the-best-from-ggplotly/
* https://bokeh.pydata.org/en/latest/docs/gallery/les_mis.html
* https://shiny.rstudio.com/gallery/genome-browser.html
* https://plot.ly/r/datatable/



### 2) R: plotly

plotly provides a set of tools that make responsive plots. It's a somewhat simpler case of reactivity, as you cannot - at least not without the support of additional code - change what you feed into the output, but rather manipulate what it shows.

**Load plotly.R in the R subrepository**

1) plotly has a neat function in R that allows you to make ggplot-objects responsive:

`ggplotly`   
https://plot.ly/ggplot2/

2) There is also a native plotting function for R:

`plot_ly` 
https://plot.ly/r/

3) From Rstudio you can export your interactive plots as html, e.g.: https://mluerig.github.io/RR/plots/iso_plotly.html



### 3) R: shiny

"shiny apps" connect R code and wrap it into an html environment to enable the full reactivity pipeline shown above, i.e. you can not only select what you see, but what goes into the plot in the first place. This is a very powerful approach, essentially enabling non programming users to interact with the vast diversity of R generated graphics and data tables. Some of these apps can become very complex, check out the gallery: https://shiny.rstudio.com/gallery/

At the core of each app are two components: a ui (user interface) that determines layout and control elements that are later presented in the dynamic html, and the server that includes the R code that actually does the job. Both are connected via internal code interfaces.

**Load ui.R and server.R from R subrepository**

1) We start with the server. Just imagine that you are writing a normal R document, with some additional elements.



### 4) Python: bokeh
* https://bokeh.pydata.org/en/latest/docs/gallery.html
### 5) R: ggobi



